%%{init: {'theme': 'neutral'}}%%
flowchart TD
    A((시작)) --> B

    B[CLOSED<br/>정상 운영]
    C[OPEN<br/>차단 상태]
    D[HALF-OPEN<br/>복구 테스트]

    B -- 실패율 초과 --> C
    C -- 대기시간 경과 --> D
    D -- 성공 --> B
    D -- 실패 --> C

    style B fill:#c8e6c9,stroke:#2e7d32,stroke-width:2px,color:#1b5e20
    style C fill:#ffcdd2,stroke:#c62828,stroke-width:2px,color:#b71c1c
    style D fill:#ffe0b2,stroke:#e65100,stroke-width:2px,color:#e65100
