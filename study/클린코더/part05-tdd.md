# Part 5: 테스트 주도 개발 (TDD)

## 핵심 내용

### 배심원 등장

TDD는 이제 충분히 검증된 기법이다.

### TDD의 세 가지 법칙

1. **실패한 단위 테스트를 작성하기 전에는 제품 코드를 작성하지 않는다**
2. **컴파일이 실패하지 않으면서 실패하는 정도로만 단위 테스트를 작성한다**
3. **현재 실패한 테스트를 통과하는 정도로만 제품 코드를 작성한다**

### TDD 사이클

```
Red → Green → Refactor → Red → ...

1. Red: 실패하는 테스트 작성
2. Green: 테스트를 통과하는 최소한의 코드 작성
3. Refactor: 코드 정리 및 개선
```

### 수많은 혜택

#### 1. 결함 주입 비율 감소
- TDD로 작성한 코드는 버그가 훨씬 적다
- 테스트가 안전망 역할을 한다

#### 2. 용기
- 코드 변경에 대한 두려움이 없어진다
- 테스트가 있으니 리팩토링이 자유롭다

#### 3. 문서화
- 단위 테스트는 최고의 문서다
- 코드의 사용법을 보여준다

#### 4. 설계
- 테스트하기 어려운 코드는 설계가 나쁜 것이다
- TDD는 좋은 설계로 이끈다

### TDD는 프로다운 선택

- 프로 개발자라면 TDD를 실천한다
- 테스트 없이 코드를 작성하는 것은 프로답지 못하다

### TDD와 관련 없는 사실

- TDD가 모든 상황에 적용되는 것은 아니다
- TDD가 만능은 아니다
- 하지만 대부분의 상황에서 효과적이다

## TDD 예제

```java
// 1. 실패하는 테스트 작성
@Test
void testAddition() {
    Calculator calc = new Calculator();
    assertEquals(4, calc.add(2, 2));
}

// 2. 테스트를 통과하는 코드 작성
public class Calculator {
    public int add(int a, int b) {
        return a + b;
    }
}

// 3. 리팩토링
// (이 경우 리팩토링 필요 없음)
```
